<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="Scripts/jquery-1.6.4.min.js"></script>
    <!--Reference the SignalR library. -->
    <script src="Scripts/jquery.signalR-2.4.1.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="http://localhost:9200/signalr/hubs"></script>
    <!--Add script to update the page and send messages.-->
    <script type="text/javascript">
        $(function () {
            //Set the hubs URL for the connection
            $.connection.hub.url = "http://localhost:9200/signalr";

            // Declare a proxy to reference the hub.
            var tempNotifier = $.connection.tempHub;

            
            tempNotifier.client.CurrentTemp = function (temp) {
                document.getElementById("tempHolder").innerText = temp;
            };
            // Create a function that the hub can call to broadcast messages.

        $.connection.hub.start();
            
        });
    </script>

</head>
<body>

<div class="container">
    <div class="card" style="width: 18rem;">
        <div class="card-body">
            <h5 class="card-title">Текущая температура</h5>
            <p class="card-text" id="tempHolder"></p>
        </div>
        <ul class="list-group list-group-flush">
            <button type="button" id="upButton" class="btn btn-danger">Повысить</button>
            <button type="button" id="downButton" class="btn btn-info">Понизить</button>
        </ul>
    </div>
</div>
<script>
    
    
    upButton.onclick = function () {
        $.connection.tempHub.server.up();
    };

    downButton.onclick = function () {
        $.connection.tempHub.server.down();
    }

</script>


</body>
</html>